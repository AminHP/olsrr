---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```
olsrr: Tools for building OLS Regression models 
------------

**Author:** [Aravind Hebbali](https://www.aravindhebbali.com/)<br/>
**License:** [MIT](https://opensource.org/licenses/MIT)

[![CRAN_Status_Badge](http://www.r-pkg.org/badges/version/olsrr)](https://cran.r-project.org/package=olsrr)
[![Travis-CI Build Status](https://travis-ci.org/rsquaredacademy/olsrr.svg?branch=master)](https://travis-ci.org/rsquaredacademy/olsrr)
[![AppVeyor Build Status](https://ci.appveyor.com/api/projects/status/github/rsquaredacademy/olsrr?branch=master&svg=true)](https://ci.appveyor.com/project/rsquaredacademy/olsrr)
[![](https://cranlogs.r-pkg.org/badges/grand-total/olsrr)](https://cran.r-project.org/package=olsrr)  [![Coverage status](https://codecov.io/gh/rsquaredacademy/olsrr/branch/master/graph/badge.svg)](https://codecov.io/github/rsquaredacademy/olsrr?branch=master) ![](https://img.shields.io/badge/lifecycle-maturing-blue.svg)


## Overview

The olsrr package provides following tools for teaching and learning OLS regression using R:

- Comprehensive Regression Output
- Variable Selection Procedures
- Heteroskedasticity Tests
- Collinearity Diagnostics
- Model Fit Assessment
- Measures of Influence
- Residual Diagnostics
- Variable Contribution Assessment

## Installation

You can install olsrr from github with:

```{r cran-installation, eval = FALSE}
# install olsrr from CRAN
install.packages("olsrr")

# the development version from github
# install.packages("devtools")
devtools::install_github("rsquaredacademy/olsrr")
```

## Shiny App

Use `ols_launch_app()` to explore the package using a shiny app.

## Vignettes

- [Quick Overview](http://www.rsquaredacademy.com/olsrr/articles/intro.html)
- [Variable Selection Methods](http://www.rsquaredacademy.com/olsrr/articles/variable_selection.html)
- [Residual Diagnostics](http://www.rsquaredacademy.com/olsrr/articles/residual_diagnostics.html)
- [Heteroskedasticity](http://www.rsquaredacademy.com/olsrr/articles/heteroskedasticity.html)
- [Measures of Influence](http://www.rsquaredacademy.com/olsrr/articles/influence_measures.html)
- [Collinearity Diagnostics](http://www.rsquaredacademy.com/olsrr/articles/regression_diagnostics.html)

## Consistent Prefix

olsrr uses consistent prefix `ols_` for easy tab completion.

## Quick Demo

```{r, echo=FALSE, message=FALSE}
library(olsrr)
library(dplyr)
library(ggplot2)
library(gridExtra)
library(purrr)
library(tibble)
library(nortest)
library(goftest)
```

olsrr is built with the aim of helping those users who are new to the R language. If you know how to 
write a `formula` or build models using `lm`, you will find olsrr very useful. Most of the functions
use an object of class `lm` as input. So you just need to build a model using `lm` and then pass it onto 
the functions in olsrr. Below is a quick demo:

##### Regression

```{r regress}
ols_regress(mpg ~ disp + hp + wt + qsec, data = mtcars)
```

##### Stepwise Regression

Build regression model from a set of candidate predictor variables by entering and removing predictors based on 
p values, in a stepwise manner until there is no variable left to enter or remove any more.

###### Variable Selection

```{r stepwise1}
# stepwise regression
model <- lm(y ~ ., data = surgical)
ols_stepwise(model)
```

###### Plot

```{r stepwise2, fig.width=10, fig.height=15, fig.align='center'}
model <- lm(y ~ ., data = surgical)
k <- ols_stepwise(model)
plot(k)
```

##### Stepwise AIC Backward Regression

Build regression model from a set of candidate predictor variables by removing predictors based on 
Akaike Information Criteria, in a stepwise manner until there is no variable left to remove any more.

###### Variable Selection

```{r stepaicb1}
# stepwise aic backward regression
model <- lm(y ~ ., data = surgical)
k <- ols_stepaic_backward(model)
k
```

###### Plot

```{r stepaicb2, fig.width=5, fig.height=5, fig.align='center'}
model <- lm(y ~ ., data = surgical)
k <- ols_stepaic_backward(model)
plot(k)
```

##### Breusch Pagan Test

Breusch Pagan test is used to test for herteroskedasticity (non-constant error variance). It tests whether the variance of the errors from a regression is dependent on the values of the independent variables. It is a $\chi^{2}$ test.

```{r bp1}
model <- lm(mpg ~ disp + hp + wt + drat, data = mtcars)
ols_bp_test(model)
```

##### Collinearity Diagnostics

```{r colldiag}
model <- lm(mpg ~ disp + hp + wt + qsec, data = mtcars)
ols_coll_diag(model)
```

##### Residual vs Fitted Values Plot

Plot to detect non-linearity, unequal error variances, and outliers.

```{r rvsfplot, fig.width=5, fig.height=5, fig.align='center'}
model <- lm(mpg ~ disp + hp + wt + qsec, data = mtcars)
ols_rvsp_plot(model)
```

##### DFBETAs Panel

DFBETAs measure the difference in each parameter estimate with and without the influential observation.
`dfbetas_panel` creates plots to detect influential observations using DFBETAs.

```{r dfbpanel, fig.width=8, fig.height=8, fig.align='center'}
model <- lm(mpg ~ disp + hp + wt, data = mtcars)
ols_dfbetas_panel(model)
```

##### Residual Fit Spread Plot

Plot to detect non-linearity, influential observations and outliers.

```{r rfsplot, fig.width=10, fig.height=5, fig.align='center'}
model <- lm(mpg ~ disp + hp + wt + qsec, data = mtcars)
ols_rfs_plot(model)
```



Please note that this project is released with a [Contributor Code of Conduct](CONDUCT.md). By participating in this project you agree to abide by its terms.
