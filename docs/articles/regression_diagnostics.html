<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Regression Diagnostics &bull; olsrr</title><!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">olsrr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rsquaredacademy/olsrr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Regression Diagnostics</h1>
            
            <h4 class="date">2017-02-28</h4>
          </div>

    
    
<div class="contents">
<div id="regression-diagnostics" class="section level1">
<h1 class="hasAnchor"><html><body><a href="#regression-diagnostics" class="anchor"> </a></body></html>Regression Diagnostics</h1>
<div id="residual-diagnostics" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#residual-diagnostics" class="anchor"> </a></body></html>Residual Diagnostics</h2>
<div id="residual-qq-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#residual-qq-plot" class="anchor"> </a></body></html>Residual QQ Plot</h3>
<p>Graph for detecting violation of normality assumption.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_rsd_qqplot.html">ols_rsd_qqplot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/qqresid-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="residual-histogram" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#residual-histogram" class="anchor"> </a></body></html>Residual Histogram</h3>
<p>Histogram of residuals for detecting violation of normality assumption.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_resid_hist.html">ols_resid_hist</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/residhist-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="residual-box-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#residual-box-plot" class="anchor"> </a></body></html>Residual Box Plot</h3>
<p>A box plot of residuals is used to detect violation of the homoscedasticity assumption.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_rsd_boxplot.html">ols_rsd_boxplot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/residbox-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="residual-normality-test" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#residual-normality-test" class="anchor"> </a></body></html>Residual Normality Test</h3>
<p>Test for detecting violation of normality assumption.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_norm_test.html">ols_norm_test</a></span>(model)</code></pre></div>
<pre><code>## -----------------------------------------------
##        Test           Statistic         pvalue  
## -----------------------------------------------
## Shapiro-Wilk              0.9366         0.06   
## Kolmogorov-Smirnov        0.1152        0.7464  
## Cramer-von Mises          2.8122           0    
## Anderson-Darling          0.5859        0.1188  
## -----------------------------------------------</code></pre>
<p>Correlation between observed residuals and expected residuals under normality.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_corr_test.html">ols_corr_test</a></span>(model)</code></pre></div>
<pre><code>## [1] 0.970066</code></pre>
<div id="residual-vs-fitted-values-plot" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#residual-vs-fitted-values-plot" class="anchor"> </a></body></html>Residual vs Fitted Values Plot</h4>
<p>Plot to detect non-linearity, unequal error variances, and outliers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_rvsp_plot.html">ols_rvsp_plot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/rvsfplot-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
</div>
</div>
<div id="measures-of-influence" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#measures-of-influence" class="anchor"> </a></body></html>Measures of Influence</h2>
<div id="cooks-d-bar-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#cooks-d-bar-plot" class="anchor"> </a></body></html>Cook&rsquo;s D Bar Plot</h3>
<p>Bar Plot of Cook&rsquo;s distance to detect observations that strongly influence fitted values of the model.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_cooksd_barplot.html">ols_cooksd_barplot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/ckdbp-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="cooks-d-chart" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#cooks-d-chart" class="anchor"> </a></body></html>Cook&rsquo;s D Chart</h3>
<p>Chart of Cook&rsquo;s distance to detect observations that strongly influence fitted values of the model.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_cooksd_chart.html">ols_cooksd_chart</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/ckchart-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="dfbetas-panel" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#dfbetas-panel" class="anchor"> </a></body></html>DFBETAs Panel</h3>
<p>DFBETAs measure the difference in each parameter estimate with and without the influential observation. <code>dfbetas_panel</code> creates plots to detect influential observations using DFBETAs.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_dfbetas_panel.html">ols_dfbetas_panel</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/dfbpanel-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="dffits-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#dffits-plot" class="anchor"> </a></body></html>DFFITS Plot</h3>
<p>Proposed by Welsch and Kuh (1977). It is the scaled difference between the <span class="math inline">\(i^{th}\)</span> fitted value obtained from the full data and the <span class="math inline">\(i^{th}\)</span> fitted value obtained by deleting the <span class="math inline">\(i^{th}\)</span> observation.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_dffits_plot.html">ols_dffits_plot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/dfitsplot-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="studentized-residual-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#studentized-residual-plot" class="anchor"> </a></body></html>Studentized Residual Plot</h3>
<p>Plot for detecting outliers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_srsd_plot.html">ols_srsd_plot</a></span>(model)</code></pre></div>
<pre><code>## Warning: Removed 5 rows containing missing values (position_stack).</code></pre>
<pre><code>## Warning: Stacking not well defined when ymin != 0</code></pre>
<p><img src="regression_diagnostics_files/figure-html/srplot-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="studentized-residual-chart" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#studentized-residual-chart" class="anchor"> </a></body></html>Studentized Residual Chart</h3>
<p>Chart for detecting outliers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_srsd_chart.html">ols_srsd_chart</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/srchart-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="studentized-residuals-vs-leverage-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#studentized-residuals-vs-leverage-plot" class="anchor"> </a></body></html>Studentized Residuals vs Leverage Plot</h3>
<p>Graph for detecting influential observations.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_rsdlev_plot.html">ols_rsdlev_plot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/studlev-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="deleted-studentized-residual-vs-fitted-values-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#deleted-studentized-residual-vs-fitted-values-plot" class="anchor"> </a></body></html>Deleted Studentized Residual vs Fitted Values Plot</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_dsrvsp_plot.html">ols_dsrvsp_plot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/dsrvsp-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="hadi-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#hadi-plot" class="anchor"> </a></body></html>Hadi Plot</h3>
<p>Hadi&rsquo;s measure of influence based on the fact that influential observations can be present in either the response variable or in the predictors or both. The plot is used to detect influential observations based on Hadi&rsquo;s measure.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_hadi_plot.html">ols_hadi_plot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/hadiplot-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="potential-residual-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#potential-residual-plot" class="anchor"> </a></body></html>Potential Residual Plot</h3>
<p>Plot to aid in classifying unusual observations as high-leverage points, outliers, or a combination of both.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_potrsd_plot.html">ols_potrsd_plot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/potres-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="model-fit-assessment" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#model-fit-assessment" class="anchor"> </a></body></html>Model Fit Assessment</h2>
<div id="residual-fit-spread-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#residual-fit-spread-plot" class="anchor"> </a></body></html>Residual Fit Spread Plot</h3>
<p>Plot to detect non-linearity, influential observations and outliers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_rfs_plot.html">ols_rfs_plot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/rfsplot-1.png" width="960" style="display: block; margin: auto;"></p>
</div>
<div id="part-partial-correlations" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#part-partial-correlations" class="anchor"> </a></body></html>Part &amp; Partial Correlations</h3>
<div id="correlations" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#correlations" class="anchor"> </a></body></html>Correlations</h4>
<p>Relative importance of independent variables in determining <strong>Y</strong>. How much each variable uniquely contributes to <span class="math inline">\(R^{2}\)</span> over and above that which can be accounted for by the other predictors.</p>
<div id="zero-order" class="section level5">
<h5 class="hasAnchor"><html><body><a href="#zero-order" class="anchor"> </a></body></html>Zero Order</h5>
<p>Pearson correlation coefficient between the dependent variable and the independent variables.</p>
</div>
<div id="part" class="section level5">
<h5 class="hasAnchor"><html><body><a href="#part" class="anchor"> </a></body></html>Part</h5>
<p>Unique contribution of independent variables. How much <span class="math inline">\(R^{2}\)</span> will decrease if that variable is removed from the model?</p>
</div>
<div id="partial" class="section level5">
<h5 class="hasAnchor"><html><body><a href="#partial" class="anchor"> </a></body></html>Partial</h5>
<p>How much of the variance in <strong>Y</strong>, which is not estimated by the other independent variables in the model, is estimated by the specific variable?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_correlations.html">ols_correlations</a></span>(model)</code></pre></div>
<pre><code>##                Correlations                 
## -------------------------------------------
## Variable    Zero Order    Partial     Part  
## -------------------------------------------
## disp            -0.848     -0.048    -0.019 
## hp              -0.776     -0.224    -0.093 
## wt              -0.868     -0.574    -0.285 
## qsec             0.419      0.219     0.091 
## -------------------------------------------</code></pre>
</div>
</div>
</div>
<div id="observed-vs-predicted-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#observed-vs-predicted-plot" class="anchor"> </a></body></html>Observed vs Predicted Plot</h3>
<p>Plot of observed vs fitted values to assess the fit of the model.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_ovsp_plot.html">ols_ovsp_plot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/obspred-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="lack-of-fit-f-test" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#lack-of-fit-f-test" class="anchor"> </a></body></html>Lack of Fit F Test</h3>
<p>Assess how much of the error in prediction is due to lack of model fit.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_pure_error_anova.html">ols_pure_error_anova</a></span>(model)</code></pre></div>
<pre><code>## Lack of Fit F Test 
## -----------------
## Response :   mpg 
## Predictor:   disp 
## 
##                  Analysis of Variance Table                  
## ------------------------------------------------------------
##                 DF    Sum Sq    Mean Sq    F Value    Pr(&gt;F) 
## ------------------------------------------------------------
## disp             1    808.89     808.89     314.01      0.00 
## Residual        30    317.16      10.57                      
##  Lack of fit    25    304.28      12.17       4.72      0.05 
##  Pure Error      5     12.88       2.58                      
## ------------------------------------------------------------</code></pre>
</div>
<div id="diagnostics-panel" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#diagnostics-panel" class="anchor"> </a></body></html>Diagnostics Panel</h3>
<p>Panel of plots for regression diagnostics</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_diagnostic_panel.html">ols_diagnostic_panel</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/diagpanel-1.png" width="960" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="variable-contributions" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#variable-contributions" class="anchor"> </a></body></html>Variable Contributions</h2>
<div id="residual-vs-regressor-plots" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#residual-vs-regressor-plots" class="anchor"> </a></body></html>Residual vs Regressor Plots</h3>
<p>Graph to determine whether we should add a new predictor to the model already containing other predictors. The residuals from the model is regressed on the new predictor and if the plot shows non random pattern, you should consider adding the new predictor to the model.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_rvsr_plot.html">ols_rvsr_plot</a></span>(model, mtcars$drat)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/rvsrplot-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="added-variable-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#added-variable-plot" class="anchor"> </a></body></html>Added Variable Plot</h3>
<p>Added variable plot provides information about the marginal importance of a predictor variable <span class="math inline">\(X_{k}\)</span>, given the other predictor variables already in the model. It shows the marginal importance of the variable in reducing the residual variability.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_avplots.html">ols_avplots</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/avplot-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div id="residual-plus-component-plot" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#residual-plus-component-plot" class="anchor"> </a></body></html>Residual Plus Component Plot</h3>
<p>The residual plus component plot indicates whether any non-linearity is present in the relationship between response and predictor variables and can suggest possible transformations for linearizing the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_rpc_plot.html">ols_rpc_plot</a></span>(model)</code></pre></div>
<p><img src="regression_diagnostics_files/figure-html/cplusr-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="heteroskedasticity" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#heteroskedasticity" class="anchor"> </a></body></html>Heteroskedasticity</h2>
<div id="bartlett-test" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#bartlett-test" class="anchor"> </a></body></html>Bartlett Test</h3>
<p>Bartlett&rsquo;s test is used to test if variances across samples is equal. It is sensitive to departures from normality. The Levene test is an alternative test that is less sensitive to departures from normality.</p>
<div id="use-grouping-variable" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#use-grouping-variable" class="anchor"> </a></body></html>Use grouping variable</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp, <span class="dt">data =</span> mtcars)
resid &lt;-<span class="st"> </span><span class="kw">residuals</span>(model)
cyl &lt;-<span class="st"> </span><span class="kw">as.factor</span>(mtcars$cyl)
<span class="kw"><a href="../reference/ols_bartlett_test.html">ols_bartlett_test</a></span>(resid, <span class="dt">group_var =</span> cyl)</code></pre></div>
<pre><code>## 
##     Bartlett's Test of Homogenity of Variances    
## ------------------------------------------------
## Ho: Variances are equal across groups
## Ha: Variances are unequal for atleast two groups
## 
##           Data           
##  ------------------------
##  Variable         : resid 
##  Grouping Variable: cyl 
## 
##       Test Summary       
##  ------------------------
##  DF            =    2 
##  Chi2          =    3.648 
##  Prob &gt; Chi2   =    0.161</code></pre>
</div>
<div id="using-variables" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#using-variables" class="anchor"> </a></body></html>Using variables</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/ols_bartlett_test.html">ols_bartlett_test</a></span>(hsb$read, hsb$write)</code></pre></div>
<pre><code>## 
##     Bartlett's Test of Homogenity of Variances    
## ------------------------------------------------
## Ho: Variances are equal across groups
## Ha: Variances are unequal for atleast two groups
## 
##         Data          
##  ---------------------
##  Variables: read write 
## 
##       Test Summary       
##  ------------------------
##  DF            =    1 
##  Chi2          =    1.223 
##  Prob &gt; Chi2   =    0.269</code></pre>
</div>
<div id="using-formula" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#using-formula" class="anchor"> </a></body></html>Using formula</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mt &lt;-<span class="st"> </span>mtcars
mt$cyl &lt;-<span class="st"> </span><span class="kw">as.factor</span>(mt$cyl)
<span class="kw"><a href="../reference/ols_bartlett_test.html">ols_bartlett_test</a></span>(mpg ~<span class="st"> </span>cyl, <span class="dt">data =</span> mt)</code></pre></div>
<pre><code>## 
##     Bartlett's Test of Homogenity of Variances    
## ------------------------------------------------
## Ho: Variances are equal across groups
## Ha: Variances are unequal for atleast two groups
## 
##             Data             
##  ----------------------------
##  Variable         : var 
##  Grouping Variable: group_var 
## 
##       Test Summary       
##  ------------------------
##  DF            =    2 
##  Chi2          =    8.393 
##  Prob &gt; Chi2   =    0.015</code></pre>
</div>
<div id="using-linear-model" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#using-linear-model" class="anchor"> </a></body></html>Using linear model</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>cyl, <span class="dt">data =</span> mt)
<span class="kw"><a href="../reference/ols_bartlett_test.html">ols_bartlett_test</a></span>(model)</code></pre></div>
<pre><code>## 
##     Bartlett's Test of Homogenity of Variances    
## ------------------------------------------------
## Ho: Variances are equal across groups
## Ha: Variances are unequal for atleast two groups
## 
##             Data             
##  ----------------------------
##  Variable         : var 
##  Grouping Variable: group_var 
## 
##       Test Summary       
##  ------------------------
##  DF            =    2 
##  Chi2          =    8.393 
##  Prob &gt; Chi2   =    0.015</code></pre>
</div>
</div>
<div id="breusch-pagan-test" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#breusch-pagan-test" class="anchor"> </a></body></html>Breusch Pagan Test</h3>
<p>Breusch Pagan test is used to test for herteroskedasticity (non-constant error variance). It tests whether the variance of the errors from a regression is dependent on the values of the independent variables. It is a <span class="math inline">\(\chi^{2}\)</span> test.</p>
<div id="use-fitted-values-of-the-model" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#use-fitted-values-of-the-model" class="anchor"> </a></body></html>Use fitted values of the model</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>drat, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_bp_test.html">ols_bp_test</a></span>(model)</code></pre></div>
<pre><code>## 
##  Breusch Pagan Test for Heteroskedasticity
##  -----------------------------------------
##  Ho: the variance is constant            
##  Ha: the variance is not constant        
## 
##              Data               
##  -------------------------------
##  Response : mpg 
##  Variables: fitted values of mpg 
## 
##       Test Summary        
##  -------------------------
##  DF            =    1 
##  Chi2          =    1.4297 
##  Prob &gt; Chi2   =    0.2318</code></pre>
</div>
<div id="use-independent-variables-of-the-model" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#use-independent-variables-of-the-model" class="anchor"> </a></body></html>Use independent variables of the model</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>drat, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_bp_test.html">ols_bp_test</a></span>(model, <span class="dt">rhs =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## 
##  Breusch Pagan Test for Heteroskedasticity
##  -----------------------------------------
##  Ho: the variance is constant            
##  Ha: the variance is not constant        
## 
##            Data            
##  --------------------------
##  Response : mpg 
##  Variables: disp hp wt drat 
## 
##       Test Summary        
##  -------------------------
##  DF            =    4 
##  Chi2          =    1.5138 
##  Prob &gt; Chi2   =    0.8242</code></pre>
</div>
<div id="use-independent-variables-of-the-model-and-perform-multiple-tests" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#use-independent-variables-of-the-model-and-perform-multiple-tests" class="anchor"> </a></body></html>Use independent variables of the model and perform multiple tests</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>drat, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_bp_test.html">ols_bp_test</a></span>(model, <span class="dt">rhs =</span> <span class="ot">TRUE</span>, <span class="dt">multiple =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## 
##  Breusch Pagan Test for Heteroskedasticity
##  -----------------------------------------
##  Ho: the variance is constant            
##  Ha: the variance is not constant        
## 
##            Data            
##  --------------------------
##  Response : mpg 
##  Variables: disp hp wt drat 
## 
##      Test Summary (Unadjusted p values)    
##  ----------------------------------------
##   Variable          chi2     df      p    
##  ----------------------------------------
##   disp             1.2355     1    0.2663 
##   hp               0.9210     1    0.3372 
##   wt               1.2530     1    0.2630 
##   drat             1.1668     1    0.2800 
##  ----------------------------------------
##   simultaneous     1.5138     4    0.8242 
##  ----------------------------------------</code></pre>
</div>
<div id="bonferroni-p-value-adjustment" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#bonferroni-p-value-adjustment" class="anchor"> </a></body></html>Bonferroni p value Adjustment</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>drat, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_bp_test.html">ols_bp_test</a></span>(model, <span class="dt">rhs =</span> <span class="ot">TRUE</span>, <span class="dt">multiple =</span> <span class="ot">TRUE</span>, <span class="dt">p.adj =</span> <span class="st">'bonferroni'</span>)</code></pre></div>
<pre><code>## 
##  Breusch Pagan Test for Heteroskedasticity
##  -----------------------------------------
##  Ho: the variance is constant            
##  Ha: the variance is not constant        
## 
##            Data            
##  --------------------------
##  Response : mpg 
##  Variables: disp hp wt drat 
## 
##      Test Summary (Bonferroni p values)    
##  ----------------------------------------
##   Variable          chi2     df      p    
##  ----------------------------------------
##   disp             1.2355     1    1.0000 
##   hp               0.9210     1    1.0000 
##   wt               1.2530     1    1.0000 
##   drat             1.1668     1    1.0000 
##  ----------------------------------------
##   simultaneous     1.5138     4    0.8242 
##  ----------------------------------------</code></pre>
</div>
<div id="sidak-p-value-adjustment" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#sidak-p-value-adjustment" class="anchor"> </a></body></html>Sidak p value Adjustment</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>drat, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_bp_test.html">ols_bp_test</a></span>(model, <span class="dt">rhs =</span> <span class="ot">TRUE</span>, <span class="dt">multiple =</span> <span class="ot">TRUE</span>, <span class="dt">p.adj =</span> <span class="st">'sidak'</span>)</code></pre></div>
<pre><code>## 
##  Breusch Pagan Test for Heteroskedasticity
##  -----------------------------------------
##  Ho: the variance is constant            
##  Ha: the variance is not constant        
## 
##            Data            
##  --------------------------
##  Response : mpg 
##  Variables: disp hp wt drat 
## 
##        Test Summary (Sidak p values)       
##  ----------------------------------------
##   Variable          chi2     df      p    
##  ----------------------------------------
##   disp             1.2355     1    0.7103 
##   hp               0.9210     1    0.8070 
##   wt               1.2530     1    0.7049 
##   drat             1.1668     1    0.7313 
##  ----------------------------------------
##   simultaneous     1.5138     4    0.8242 
##  ----------------------------------------</code></pre>
</div>
<div id="holms-p-value-adjustment" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#holms-p-value-adjustment" class="anchor"> </a></body></html>Holm&rsquo;s p value Adjustment</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>drat, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_bp_test.html">ols_bp_test</a></span>(model, <span class="dt">rhs =</span> <span class="ot">TRUE</span>, <span class="dt">multiple =</span> <span class="ot">TRUE</span>, <span class="dt">p.adj =</span> <span class="st">'holm'</span>)</code></pre></div>
<pre><code>## 
##  Breusch Pagan Test for Heteroskedasticity
##  -----------------------------------------
##  Ho: the variance is constant            
##  Ha: the variance is not constant        
## 
##            Data            
##  --------------------------
##  Response : mpg 
##  Variables: disp hp wt drat 
## 
##        Test Summary (Holm's p values)      
##  ----------------------------------------
##   Variable          chi2     df      p    
##  ----------------------------------------
##   disp             1.2355     1    0.7990 
##   hp               0.9210     1    0.3372 
##   wt               1.2530     1    1.0000 
##   drat             1.1668     1    0.5601 
##  ----------------------------------------
##   simultaneous     1.5138     4    0.8242 
##  ----------------------------------------</code></pre>
</div>
</div>
<div id="score-test" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#score-test" class="anchor"> </a></body></html>Score Test</h3>
<p>Test for heteroskedasticity under the assumption that the errors are independent and identically distributed (i.i.d.).</p>
<div id="use-fitted-values-of-the-model-1" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#use-fitted-values-of-the-model-1" class="anchor"> </a></body></html>Use fitted values of the model</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_score_test.html">ols_score_test</a></span>(model)</code></pre></div>
<pre><code>## 
##  Score Test for Heteroskedasticity
##  ---------------------------------
##  Ho: Variance is homogenous
##  Ha: Variance is not homogenous
## 
##  Variables: fitted values of mpg 
## 
##       Test Summary       
##  ------------------------
##  DF            =    1 
##  Chi2          =    0.516 
##  Prob &gt; Chi2   =    0.472</code></pre>
</div>
<div id="use-independent-variables-of-the-model-1" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#use-independent-variables-of-the-model-1" class="anchor"> </a></body></html>Use independent variables of the model</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_score_test.html">ols_score_test</a></span>(model, <span class="dt">rhs =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## 
##  Score Test for Heteroskedasticity
##  ---------------------------------
##  Ho: Variance is homogenous
##  Ha: Variance is not homogenous
## 
##  Variables: disp hp wt qsec 
## 
##       Test Summary       
##  ------------------------
##  DF            =    4 
##  Chi2          =    2.039 
##  Prob &gt; Chi2   =    0.729</code></pre>
</div>
<div id="specify-variables" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#specify-variables" class="anchor"> </a></body></html>Specify variables</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_score_test.html">ols_score_test</a></span>(model, <span class="dt">vars =</span> <span class="kw">c</span>(<span class="st">'disp'</span>, <span class="st">'hp'</span>))</code></pre></div>
<pre><code>## 
##  Score Test for Heteroskedasticity
##  ---------------------------------
##  Ho: Variance is homogenous
##  Ha: Variance is not homogenous
## 
##  Variables: disp hp 
## 
##       Test Summary       
##  ------------------------
##  DF            =    2 
##  Chi2          =    0.998 
##  Prob &gt; Chi2   =    0.607</code></pre>
</div>
</div>
<div id="f-test" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#f-test" class="anchor"> </a></body></html>F Test</h3>
<p>F Test for heteroskedasticity under the assumption that the errors are independent and identically distributed (i.i.d.).</p>
<div id="use-fitted-values-of-the-model-2" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#use-fitted-values-of-the-model-2" class="anchor"> </a></body></html>Use fitted values of the model</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_f_test.html">ols_f_test</a></span>(model)</code></pre></div>
<pre><code>## 
##  F Test for Heteroskedasticity
##  -----------------------------
##  Ho: Variance is homogenous
##  Ha: Variance is not homogenous
## 
##  Variables: fitted values of mpg 
## 
##     Test Summary      
##  ---------------------
##  Num DF     =    1 
##  Den DF     =    30 
##  F          =    0.492 
##  Prob &gt; F   =    0.488</code></pre>
</div>
<div id="use-independent-variables-of-the-model-2" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#use-independent-variables-of-the-model-2" class="anchor"> </a></body></html>Use independent variables of the model</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_f_test.html">ols_f_test</a></span>(model, <span class="dt">rhs =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## 
##  F Test for Heteroskedasticity
##  -----------------------------
##  Ho: Variance is homogenous
##  Ha: Variance is not homogenous
## 
##  Variables: disp hp wt qsec 
## 
##     Test Summary      
##  ---------------------
##  Num DF     =    4 
##  Den DF     =    27 
##  F          =    0.459 
##  Prob &gt; F   =    0.765</code></pre>
</div>
<div id="specify-variables-1" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#specify-variables-1" class="anchor"> </a></body></html>Specify variables</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_f_test.html">ols_f_test</a></span>(model, <span class="dt">vars =</span> <span class="kw">c</span>(<span class="st">'disp'</span>, <span class="st">'hp'</span>))</code></pre></div>
<pre><code>## 
##  F Test for Heteroskedasticity
##  -----------------------------
##  Ho: Variance is homogenous
##  Ha: Variance is not homogenous
## 
##  Variables: disp hp 
## 
##     Test Summary      
##  ---------------------
##  Num DF     =    2 
##  Den DF     =    29 
##  F          =    0.467 
##  Prob &gt; F   =    0.632</code></pre>
</div>
</div>
</div>
<div id="collinearity-diagnostics" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#collinearity-diagnostics" class="anchor"> </a></body></html>Collinearity Diagnostics</h2>
<p>Collinearity implies two variables are near perfect linear combinations of one another. Multicollinearity involves more than two variables. In the presence of multicollinearity, regression estimates are unstable and have high standard errors.</p>
<div id="vif" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#vif" class="anchor"> </a></body></html>VIF</h3>
<p>Variance inflation factors measure the inflation in the variances of the parameter estimates due to collinearities that exist among the predictors. It is a measure of how much the variance of the estimated regression coefficient <span class="math inline">\(\beta_{k}\)</span> is &ldquo;inflated&rdquo; by the existence of correlation among the predictor variables in the model. A VIF of 1 means that there is no correlation among the kth predictor and the remaining predictor variables, and hence the variance of <span class="math inline">\(\beta_{k}\)</span> is not inflated at all. The general rule of thumb is that VIFs exceeding 4 warrant further investigation, while VIFs exceeding 10 are signs of serious multicollinearity requiring correction.</p>
<p>Steps to calculate VIF:</p>
<ul><li>Regress the <span class="math inline">\(k^{th}\)</span> predictor on rest of the predictors in the model.</li>
<li>Compute the <span class="math inline">\({R}^{2}_{k}\)</span></li>
</ul><p><span class="math display">\[VIF = \frac{1}{1 - {R}^{2}_{k}} = \frac{1}{Tolerance}\]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_coll_diag.html">ols_vif_tol</a></span>(model)</code></pre></div>
<pre><code>## # A tibble: 4 &times; 3
##   Variables Tolerance   VIF
##       &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;
## 1      disp     0.125 7.985
## 2        hp     0.194 5.167
## 3        wt     0.145 6.917
## 4      qsec     0.319 3.133</code></pre>
</div>
<div id="tolerance" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#tolerance" class="anchor"> </a></body></html>Tolerance</h3>
<p>Percent of variance in the predictor that cannot be accounted for by other predictors.</p>
<p>Steps to calculate tolerance:</p>
<ul><li>Regress the <span class="math inline">\(k^{th}\)</span> predictor on rest of the predictors in the model.</li>
<li>Compute the <span class="math inline">\({R}^{2}_{k}\)</span></li>
</ul><p><span class="math display">\[Tolerance = 1 - {R}^{2}_{k}\]</span></p>
</div>
<div id="condition-index" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#condition-index" class="anchor"> </a></body></html>Condition Index</h3>
<p>Most multivariate statistical approaches involve decomposing a correlation matrix into linear combinations of variables. The linear combinations are chosen so that the first combination has the largest possible variance (subject to some restrictions we won&rsquo;t discuss), the second combination has the next largest variance, subject to being uncorrelated with the first, the third has the largest possible variance, subject to being uncorrelated with the first and second, and so forth. The variance of each of these linear combinations is called an eigenvalue. Collinearity is spotted by finding 2 or more variables that have large proportions of variance (.50 or more) that correspond to large condition indices. A rule of thumb is to label as large those condition indices in the range of 30 or larger.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_coll_diag.html">ols_eigen_cindex</a></span>(model)</code></pre></div>
<pre><code>##   Eigenvalue Condition Index intercept disp   hp   wt qsec
## 1      4.721           1.000      0.00 0.00 0.00 0.00 0.00
## 2      0.217           4.669      0.00 0.04 0.03 0.00 0.00
## 3      0.050           9.677      0.00 0.12 0.39 0.04 0.00
## 4      0.010          21.616      0.03 0.78 0.06 0.70 0.00
## 5      0.001          57.481      0.97 0.06 0.52 0.26 0.99</code></pre>
</div>
<div id="collinearity-diagnostics-1" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#collinearity-diagnostics-1" class="anchor"> </a></body></html>Collinearity Diagnostics</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>disp +<span class="st"> </span>hp +<span class="st"> </span>wt +<span class="st"> </span>qsec, <span class="dt">data =</span> mtcars)
<span class="kw"><a href="../reference/ols_coll_diag.html">ols_coll_diag</a></span>(model)</code></pre></div>
<pre><code>## Tolerance and Variance Inflation Factor
## ---------------------------------------
## # A tibble: 4 &times; 3
##   Variables Tolerance   VIF
##       &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;
## 1      disp     0.125 7.985
## 2        hp     0.194 5.167
## 3        wt     0.145 6.917
## 4      qsec     0.319 3.133
## 
## 
## Eigenvalue and Condition Index
## ------------------------------
##   Eigenvalue Condition Index intercept disp   hp   wt qsec
## 1      4.721           1.000      0.00 0.00 0.00 0.00 0.00
## 2      0.217           4.669      0.00 0.04 0.03 0.00 0.00
## 3      0.050           9.677      0.00 0.12 0.39 0.04 0.00
## 4      0.010          21.616      0.03 0.78 0.06 0.70 0.00
## 5      0.001          57.481      0.97 0.06 0.52 0.26 0.99</code></pre>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked"><li><a href="#regression-diagnostics">Regression Diagnostics</a><ul class="nav nav-pills nav-stacked"><li><a href="#residual-diagnostics">Residual Diagnostics</a></li>
      <li><a href="#measures-of-influence">Measures of Influence</a></li>
      <li><a href="#model-fit-assessment">Model Fit Assessment</a></li>
      <li><a href="#variable-contributions">Variable Contributions</a></li>
      <li><a href="#heteroskedasticity">Heteroskedasticity</a></li>
      <li><a href="#collinearity-diagnostics">Collinearity Diagnostics</a></li>
      </ul></li>
      </ul></div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Aravind Hebbali.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer></div>

  </body></html>
